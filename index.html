<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerador de Currículos Profissional</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<!-- html2pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<!-- Custom CSS -->
<link rel="stylesheet" href="style.css">

</head>
<body>

<header>
  <h1>Gerador de Currículos Profissional</h1>
</header>

<main>
  <div id="loginStatus">
    <span id="userEmail"></span>
    <button id="loginBtn" onclick="loginGoogle()">Login com Google</button>
    <button id="logoutBtn" onclick="logout()" style="display:none;">Logout</button>
  </div>

  <div id="savedCvArea" style="display:none; margin-top: 20px; padding: 15px; background-color: #f7f7f7; border-radius: 8px;">
      <h4>Meus Currículos Salvos</h4>
      <select id="savedCvSelect" style="width: 70%;"></select>
      <button type="button" onclick="carregarCurriculo()">Carregar</button>
      <button type="button" class="remove-btn" onclick="deletarCurriculo()">Deletar</button>
  </div>

  <h2>Preencha seus dados</h2>
  <form id="cvForm">
    <div class="layout-controls">
        <div>
            <label for="template-select">Modelo</label>
            <select id="template-select" name="template-select">
                <option value="classico">Clássico</option>
                <option value="moderno" disabled>Moderno (Premium)</option>
            </select>
        </div>
        <div>
            <label for="accent-color">Cor Destaque</label>
            <input type="color" id="accent-color" value="#4a90e2">
        </div>
        <div>
            <label for="font-select">Fonte</label>
            <select id="font-select">
                <option value="lato">Lato</option>
                <option value="roboto">Roboto</option>
                <option value="merriweather">Merriweather</option>
            </select>
        </div>
    </div>

    <label>Nome</label>
    <input type="text" id="nome" placeholder="Seu nome completo">

    <label for="profilePicInput">Foto de Perfil (Opcional)</label>
    <input type="file" id="profilePicInput" accept="image/*" onchange="handleProfilePicUpload(this.files[0])" style="border: none; padding-left: 0;">
    <img id="profilePicPreview" src="" alt="Preview da Foto" style="max-width: 100px; border-radius: 50%; margin-top: 10px; display: none;">
    <input type="hidden" id="profilePicUrl" value="">

    <label>Email</label>
    <input type="email" id="email" placeholder="seu@email.com">
    <span class="error-message" id="email-error"></span>

    <label>Telefone</label>
    <input type="tel" id="telefone" placeholder="(11) 99999-9999">
    <span class="error-message" id="telefone-error"></span>

    <label>Resumo Profissional</label>
    <textarea id="resumo" rows="3" placeholder="Breve descrição sobre você"></textarea>

    <label>Experiências</label>
    <div id="experiencias-container">
      <!-- Entradas de experiência serão adicionadas aqui -->
    </div>
    <button type="button" onclick="adicionarExperiencia()">Adicionar Experiência</button>

    <label>Formação Acadêmica</label>
    <div id="formacao-container">
      <!-- Entradas de formação serão adicionadas aqui -->
    </div>
    <button type="button" onclick="adicionarFormacao()">Adicionar Formação</button>

    <label>Habilidades</label>
    <div id="habilidades-container">
        <!-- Entradas de habilidades serão adicionadas aqui -->
    </div>
    <button type="button" onclick="adicionarHabilidade()">Adicionar Habilidade</button>

    <label>Idiomas</label>
    <input type="text" id="idiomas" placeholder="Ex.: Inglês - Avançado, Espanhol - Intermediário">

    <label>Projetos</label>
    <div id="projetos-container">
        <!-- Entradas de projetos serão adicionadas aqui -->
    </div>
    <button type="button" onclick="adicionarProjeto()">Adicionar Projeto</button>

    <label>Links Profissionais</label>
    <div id="links-container">
        <!-- Entradas de links serão adicionadas aqui -->
    </div>
    <button type="button" onclick="adicionarLink()">Adicionar Link</button>

    <div class="form-actions">
        <button type="button" onclick="novoCurriculo()">Novo Currículo</button>
        <button type="button" onclick="salvarCurriculo()">Salvar Alterações</button>
        <button type="button" onclick="salvarComoNovo()">Salvar como Novo</button>
        <button type="button" onclick="exportarPDF()">Exportar PDF</button>
        <button type="button" onclick="exportarDOCX()">Exportar DOCX</button>
        <button type="button" onclick="comprarPremium()">Comprar Premium</button>
    </div>
  </form>

  <div id="preview">
    <h3>Preview do Currículo</h3>
    <p>Preencha os campos e clique em "Gerar Preview" para ver seu currículo aqui.</p>
  </div>
</main>

<!-- SortableJS Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js"></script>

<!-- Docshift (HTML to DOCX) Library -->
<script src="https://cdn.jsdelivr.net/npm/docshift@latest/dist/docshift.min.js"></script>

<!-- Custom JS -->
<script src="script.js"></script>

</body>
</html>
